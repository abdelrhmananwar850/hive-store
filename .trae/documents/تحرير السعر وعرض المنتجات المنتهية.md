## ملخص موسّع
- إضافة تحرير السعر/سعر الخصم/المخزون من لوحة الإدارة.
- فلترة/قسم للمنتجات المنتهية (Sold Out) بناءً على المتبقي.
- تمكين زيادة/تنقيص المخزون بسرعة من الجدول.

## نقاط الربط
- تحديث المنتج: `context/StoreContext.tsx:231-236` عبر `editProduct(id, updates)`.
- جدول الإدارة: `pages/Admin.tsx:252-329` سنضيف أزرار تعديل ومخزون (+/−).
- عرض النفاد: `pages/Home.tsx:20-53` يحتسب المتبقي ويعرض "نفذت الكمية".

## خطة التنفيذ
1) نافذة تعديل المنتج (Modal)
- حقول: الاسم، السعر، سعر الخصم، المخزون.
- تحقق: قيم موجبة، `salePrice ≤ price`، مخزون ≥ 0.
- حفظ يستدعي `editProduct` ويحدّث Supabase.

2) التحكم السريع بالمخزون في الجدول
- عمود "المخزون" يحتوي على عدّاد مع أزرار `−` و`+`:
  - `−` يقلل بمقدار 1 (لا ينزل تحت 0)
  - `+` يزيد بمقدار 1
  - يحفظ فورياً عبر `editProduct(id, { stock: newStock })`.
- زر "زيادة سريعة" لرفع المخزون بقيمة ثابتة (مثلاً +10) على العناصر المنتهية.

3) فلتر وعرض المنتهية
- أزرار فلترة: "الكل"، "المتوفر"، "المنتهية".
- شارة "نفذت" تُعرض عندما `remaining(product) ≤ 0`.
- تبويب فرعي (اختياري) لعرض المنتهية فقط وإتاحة زيادة مخزون جماعية.

4) توافق الواجهة
- الإبقاء على منطق المتبقي المعتمد على السلة.
- تحديث الشارات (خصم/مميز) بما لا يتعارض مع حالة النفاد.
- إضافة `data-testid` لعناصر التحرير والمخزون.

5) اختبارات
- وحدات: التحقق من زيادة/تنقيص المخزون وتحديث السعر عبر `editProduct`.
- واجهة (Playwright): تعديل السعر من الإدارة يظهر في الصفحة الرئيسية؛ فلتر "المنتهية" يعمل؛ زر `+` يرفع المخزون ويزيل شارة "نفذت".

## النتيجة المتوقعة
- تحكم كامل بالسعر والمخزون من الإدارة.
- رؤية سريعة للمنتهية وإعادة التخزين بضغطات بسيطة.
- اختبارات تغطي التدفق لضمان الثبات.